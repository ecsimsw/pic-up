## 20231018 File 처리 예외 처리 목록.md

### Album server

#### 지원하지 않는 파일 업로드
- Exception : UnsupportedFileTypeException
- Server handle : None
- Response : 400 Bad request
```
Invalid file type
```

#### Storage server connection time out
- Exception : StorageServerDownException
- Server handle : retry 5 times with 5s delay, Log
- Response : 500 Internal server error
```
unhandled server exception
```

#### 비정상적인 storage server 응답
- Exception : InvalidStorageServerResponseException
- Server handle : Log
- Response : 500 Internal server error
```
unhandled server exception
```

#### 존재하지 않는 Album, Picture 요청
- Exception : AlbumException
- Server handle : None
- Response : 500 Internal server error
```
Invalid album (picture)
```

#### 지정 크기 (200MB) 보다 큰 File size upload 요청
- Exception : MaxUploadSizeExceededException
- Server handle : None
- Response : 413 Request Entity Too Large
```
Maximum upload size exceeded; nested exception is java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.impl.SizeLimitExceededException: the request was rejected because its size (4470622947) exceeds the configured maximum (209715200)
```

### Storage server

#### 존재하지 않는 파일 조회
- Exception : InvalidResourceException
- Server handle : None
- Response : 400 Bad request
```
Fail to read image : hi-46593b9d-74b9-41c0-b5cf-97cec92ab4e7.png
```

#### 존재하지 않는 파일 제거 요청
- Exception : InvalidResourceException
- Server handle : None
- Response : 400 Bad request
```
File not exists : hi-46593b9d-74b9-41c0-b5cf-97cec92ab4e7.png
```

#### 지정 크기 (200MB) 보다 큰 File size upload 요청
- Exception : MaxUploadSizeExceededException
- Server handle : None
- Response : 413 Request Entity Too Large
```
Maximum upload size exceeded; nested exception is java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.impl.SizeLimitExceededException: the request was rejected because its size (4470622947) exceeds the configured maximum (209715200)
```

#### 지원하지 않는 파일 업로드
- Exception : InvalidResourceException
- Server handle : None
- Response : 400 Bad request
```
Invalid resource image type
```

#### 지원하지 않는 파일 조회
- Exception : InvalidResourceException
- Server handle : None
- Response : 400 Bad request
```
Invalid resource image type
```
