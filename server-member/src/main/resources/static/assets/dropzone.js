"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function n(){var i,r=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(e,t){return t&&("object"===_typeof(t)||"function"==typeof t)?t:_assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function _createForOfIteratorHelper(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function e(){};return{s:i,n:function t(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function e(t){throw t},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,s=!1;return{s:function t(){r=e[Symbol.iterator]()},n:function e(){var t=r.next();return a=t.done,t},e:function e(t){s=!0,o=t},f:function e(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(e,t)}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function _classCallCheck(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var Emitter=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"on",value:function e(t,n){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(n),this}},{key:"emit",value:function e(t){this._callbacks=this._callbacks||{};var n=this._callbacks[t];if(n){for(var i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];var a,s=_createForOfIteratorHelper(n);try{for(s.s();!(a=s.n()).done;)a.value.apply(this,r)}catch(l){s.e(l)}finally{s.f()}}return this}},{key:"off",value:function e(t,n){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var i=this._callbacks[t];if(!i)return this;if(1===arguments.length)return delete this._callbacks[t],this;for(var r=0;r<i.length;r++)if(i[r]===n){i.splice(r,1);break}return this}}]),e}(),Dropzone=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){if(_classCallCheck(this,n),(r=t.call(this)).element=e,r.version=n.version,r.defaultOptions.previewTemplate=r.defaultOptions.previewTemplate.replace(/\n*/g,""),r.clickableElements=[],r.listeners=[],r.files=[],"string"==typeof r.element&&(r.element=document.querySelector(r.element)),!r.element||null==r.element.nodeType)throw Error("Invalid dropzone element.");if(r.element.dropzone)throw Error("Dropzone already attached.");n.instances.push(_assertThisInitialized(r)),r.element.dropzone=_assertThisInitialized(r);var r,o,a,s=null!=(a=n.optionsForElement(r.element))?a:{};if(r.options=n.extend({},r.defaultOptions,s,null!=i?i:{}),r.options.forceFallback||!n.isBrowserSupported())return _possibleConstructorReturn(r,r.options.fallback.call(_assertThisInitialized(r)));if(null==r.options.url&&(r.options.url=r.element.getAttribute("action")),!r.options.url)throw Error("No URL provided.");if(r.options.acceptedFiles&&r.options.acceptedMimeTypes)throw Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(r.options.uploadMultiple&&r.options.chunking)throw Error("You cannot set both: uploadMultiple and chunking.");return r.options.acceptedMimeTypes&&(r.options.acceptedFiles=r.options.acceptedMimeTypes,delete r.options.acceptedMimeTypes),null!=r.options.renameFilename&&(r.options.renameFile=function(e){return r.options.renameFilename.call(_assertThisInitialized(r),e.name,e)}),"string"==typeof r.options.method&&(r.options.method=r.options.method.toUpperCase()),(o=r.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),!1!==r.options.previewsContainer&&(r.options.previewsContainer?r.previewsContainer=n.getElement(r.options.previewsContainer,"previewsContainer"):r.previewsContainer=r.element),r.options.clickable&&(!0===r.options.clickable?r.clickableElements=[r.element]:r.clickableElements=n.getElements(r.options.clickable,"clickable")),r.init(),r}return _createClass(n,null,[{key:"initClass",value:function e(){this.prototype.Emitter=Emitter,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function e(){},params:function e(t,n,i){if(i)return{dzuuid:i.file.upload.uuid,dzchunkindex:i.index,dztotalfilesize:i.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:i.file.upload.totalChunkCount,dzchunkbyteoffset:i.index*this.options.chunkSize}},accept:function e(t,n){return n()},chunksUploaded:function e(t,n){n()},fallback:function e(){this.element.className="".concat(this.element.className," dz-browser-not-supported");var t,i,r=_createForOfIteratorHelper(this.element.getElementsByTagName("div"));try{for(r.s();!(i=r.n()).done;){var o=i.value;if(/(^| )dz-message($| )/.test(o.className)){t=o,o.className="dz-message";break}}}catch(a){r.e(a)}finally{r.f()}t||(t=n.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t));var s=t.getElementsByTagName("span")[0];return s&&(null!=s.textContent?s.textContent=this.options.dictFallbackMessage:null!=s.innerText&&(s.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function e(t,n,i,r){var o={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},a=t.width/t.height;null==n&&null==i?(n=o.srcWidth,i=o.srcHeight):null==n?n=i*a:null==i&&(i=n/a);var s=(n=Math.min(n,o.srcWidth))/(i=Math.min(i,o.srcHeight));if(o.srcWidth>n||o.srcHeight>i){if("crop"===r)a>s?(o.srcHeight=t.height,o.srcWidth=o.srcHeight*s):(o.srcWidth=t.width,o.srcHeight=o.srcWidth/s);else if("contain"===r)a>s?i=n/a:n=i*a;else throw Error("Unknown resizeMethod '".concat(r,"'"))}return o.srcX=(t.width-o.srcWidth)/2,o.srcY=(t.height-o.srcHeight)/2,o.trgWidth=n,o.trgHeight=i,o},transformFile:function e(t,n){return(this.options.resizeWidth||this.options.resizeHeight)&&t.type.match(/image.*/)?this.resizeImage(t,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,n):n(t)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Check</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Error</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function e(t){return this.element.classList.remove("dz-drag-hover")},dragstart:function e(t){},dragend:function e(t){return this.element.classList.remove("dz-drag-hover")},dragenter:function e(t){return this.element.classList.add("dz-drag-hover")},dragover:function e(t){return this.element.classList.add("dz-drag-hover")},dragleave:function e(t){return this.element.classList.remove("dz-drag-hover")},paste:function e(t){},reset:function e(){return this.element.classList.remove("dz-started")},addedfile:function e(t){var i=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){t.previewElement=n.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement);var r,o=_createForOfIteratorHelper(t.previewElement.querySelectorAll("[data-dz-name]"));try{for(o.s();!(r=o.n()).done;){var a=r.value;a.textContent=t.name}}catch(s){o.e(s)}finally{o.f()}var l,u=_createForOfIteratorHelper(t.previewElement.querySelectorAll("[data-dz-size]"));try{for(u.s();!(l=u.n()).done;)(a=l.value).innerHTML=this.filesize(t.size)}catch(c){u.e(c)}finally{u.f()}this.options.addRemoveLinks&&(t._removeLink=n.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>")),t.previewElement.appendChild(t._removeLink));var d,p=function e(r){return(r.preventDefault(),r.stopPropagation(),t.status===n.UPLOADING)?n.confirm(i.options.dictCancelUploadConfirmation,function(){return i.removeFile(t)}):i.options.dictRemoveFileConfirmation?n.confirm(i.options.dictRemoveFileConfirmation,function(){return i.removeFile(t)}):i.removeFile(t)},h=_createForOfIteratorHelper(t.previewElement.querySelectorAll("[data-dz-remove]"));try{for(h.s();!(d=h.n()).done;)d.value.addEventListener("click",p)}catch(f){h.e(f)}finally{h.f()}}},removedfile:function e(t){return null!=t.previewElement&&null!=t.previewElement.parentNode&&t.previewElement.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function e(t,n){if(t.previewElement){t.previewElement.classList.remove("dz-file-preview");var i,r=_createForOfIteratorHelper(t.previewElement.querySelectorAll("[data-dz-thumbnail]"));try{for(r.s();!(i=r.n()).done;){var o=i.value;o.alt=t.name,o.src=n}}catch(a){r.e(a)}finally{r.f()}return setTimeout(function(){return t.previewElement.classList.add("dz-image-preview")},1)}},error:function e(t,n){if(t.previewElement){t.previewElement.classList.add("dz-error"),"string"!=typeof n&&n.error&&(n=n.error);var i,r=_createForOfIteratorHelper(t.previewElement.querySelectorAll("[data-dz-errormessage]"));try{for(r.s();!(i=r.n()).done;)i.value.textContent=n}catch(o){r.e(o)}finally{r.f()}}},errormultiple:function e(){},processing:function e(t){if(t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink))return t._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function e(){},uploadprogress:function e(t,n,i){if(t.previewElement){var r,o=_createForOfIteratorHelper(t.previewElement.querySelectorAll("[data-dz-uploadprogress]"));try{for(o.s();!(r=o.n()).done;){var a=r.value;"PROGRESS"===a.nodeName?a.value=n:a.style.width="".concat(n,"%")}}catch(s){o.e(s)}finally{o.f()}}},totaluploadprogress:function e(){},sending:function e(){},sendingmultiple:function e(){},success:function e(t){if(t.previewElement)return t.previewElement.classList.add("dz-success")},successmultiple:function e(){},canceled:function e(t){return this.emit("error",t,this.options.dictUploadCanceled)},canceledmultiple:function e(){},complete:function e(t){if(t._removeLink&&(t._removeLink.innerHTML=this.options.dictRemoveFile),t.previewElement)return t.previewElement.classList.add("dz-complete")},completemultiple:function e(){},maxfilesexceeded:function e(){},maxfilesreached:function e(){},queuecomplete:function e(){},addedfiles:function e(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function e(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(var o=0,a=i;o<a.length;o++){var s=a[o];for(var l in s){var u=s[l];t[l]=u}}return t}}]),_createClass(n,[{key:"getAcceptedFiles",value:function e(){return this.files.filter(function(e){return e.accepted}).map(function(e){return e})}},{key:"getRejectedFiles",value:function e(){return this.files.filter(function(e){return!e.accepted}).map(function(e){return e})}},{key:"getFilesWithStatus",value:function e(t){return this.files.filter(function(e){return e.status===t}).map(function(e){return e})}},{key:"getQueuedFiles",value:function e(){return this.getFilesWithStatus(n.QUEUED)}},{key:"getUploadingFiles",value:function e(){return this.getFilesWithStatus(n.UPLOADING)}},{key:"getAddedFiles",value:function e(){return this.getFilesWithStatus(n.ADDED)}},{key:"getActiveFiles",value:function e(){return this.files.filter(function(e){return e.status===n.UPLOADING||e.status===n.QUEUED}).map(function(e){return e})}},{key:"init",value:function e(){var t=this;"form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(n.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,"</button></div>"))),this.clickableElements.length&&function e(){return t.hiddenFileInput&&t.hiddenFileInput.parentNode.removeChild(t.hiddenFileInput),t.hiddenFileInput=document.createElement("input"),t.hiddenFileInput.setAttribute("type","file"),(null===t.options.maxFiles||t.options.maxFiles>1)&&t.hiddenFileInput.setAttribute("multiple","multiple"),t.hiddenFileInput.className="dz-hidden-input",null!==t.options.acceptedFiles&&t.hiddenFileInput.setAttribute("accept",t.options.acceptedFiles),null!==t.options.capture&&t.hiddenFileInput.setAttribute("capture",t.options.capture),t.hiddenFileInput.style.visibility="hidden",t.hiddenFileInput.style.position="absolute",t.hiddenFileInput.style.top="0",t.hiddenFileInput.style.left="0",t.hiddenFileInput.style.height="0",t.hiddenFileInput.style.width="0",n.getElement(t.options.hiddenInputContainer,"hiddenInputContainer").appendChild(t.hiddenFileInput),t.hiddenFileInput.addEventListener("change",function(){var n=t.hiddenFileInput.files;if(n.length){var i,r=_createForOfIteratorHelper(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;t.addFile(o)}}catch(a){r.e(a)}finally{r.f()}}return t.emit("addedfiles",n),e()})}(),this.URL=null!==window.URL?window.URL:window.webkitURL;var i,r=_createForOfIteratorHelper(this.events);try{for(r.s();!(i=r.n()).done;){var o=i.value;this.on(o,this.options[o])}}catch(a){r.e(a)}finally{r.f()}this.on("uploadprogress",function(){return t.updateTotalUploadProgress()}),this.on("removedfile",function(){return t.updateTotalUploadProgress()}),this.on("canceled",function(e){return t.emit("complete",e)}),this.on("complete",function(e){if(0===t.getAddedFiles().length&&0===t.getUploadingFiles().length&&0===t.getQueuedFiles().length)return setTimeout(function(){return t.emit("queuecomplete")},0)});var s=function e(t){if(t.dataTransfer.types){for(var n=0;n<t.dataTransfer.types.length;n++)if("Files"===t.dataTransfer.types[n])return!0}return!1},l=function e(t){if(s(t))return(t.stopPropagation(),t.preventDefault)?t.preventDefault():t.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function e(n){return t.emit("dragstart",n)},dragenter:function e(n){return l(n),t.emit("dragenter",n)},dragover:function e(n){var i;try{i=n.dataTransfer.effectAllowed}catch(r){}return n.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy",l(n),t.emit("dragover",n)},dragleave:function e(n){return t.emit("dragleave",n)},drop:function e(n){return l(n),t.drop(n)},dragend:function e(n){return t.emit("dragend",n)}}}],this.clickableElements.forEach(function(e){return t.listeners.push({element:e,events:{click:function i(r){return(e!==t.element||r.target===t.element||n.elementInside(r.target,t.element.querySelector(".dz-message")))&&t.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function e(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,n.instances.splice(n.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function e(){var t=0,n=0;if(this.getActiveFiles().length){var i,r,o=_createForOfIteratorHelper(this.getActiveFiles());try{for(o.s();!(r=o.n()).done;){var a=r.value;t+=a.upload.bytesSent,n+=a.upload.total}}catch(s){o.e(s)}finally{o.f()}i=100*t/n}else i=100;return this.emit("totaluploadprogress",i,n,t)}},{key:"_getParamName",value:function e(t){return"function"==typeof this.options.paramName?this.options.paramName(t):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(t,"]"):"")}},{key:"_renameFile",value:function e(t){return"function"!=typeof this.options.renameFile?t.name:this.options.renameFile(t)}},{key:"getFallbackForm",value:function e(){if(t=this.getExistingFallback())return t;var t,i,r='<div class="dz-fallback">';this.options.dictFallbackText&&(r+="<p>".concat(this.options.dictFallbackText,"</p>")),r+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':void 0,' /><input type="submit" value="Upload!"></div>');var o=n.createElement(r);return"FORM"!==this.element.tagName?(i=n.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>'))).appendChild(o):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=i?i:o}},{key:"getExistingFallback",value:function e(){for(var t=0,n=["div","form"];t<n.length;t++){var i,r=n[t];if(i=function e(t){var n,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(/(^| )fallback($| )/.test(r.className))return r}}catch(o){i.e(o)}finally{i.f()}}(this.element.getElementsByTagName(r)))return i}}},{key:"setupEventListeners",value:function e(){return this.listeners.map(function(e){return function(){var t=[];for(var n in e.events){var i=e.events[n];t.push(e.element.addEventListener(n,i,!1))}return t}()})}},{key:"removeEventListeners",value:function e(){return this.listeners.map(function(e){return function(){var t=[];for(var n in e.events){var i=e.events[n];t.push(e.element.removeEventListener(n,i,!1))}return t}()})}},{key:"disable",value:function e(){var t=this;return this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(e){return t.cancelUpload(e)})}},{key:"enable",value:function e(){return delete this.disabled,this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function e(t){var n=0,i="b";if(t>0){for(var r=["tb","gb","mb","kb","b"],o=0;o<r.length;o++){var a=r[o];if(t>=Math.pow(this.options.filesizeBase,4-o)/10){n=t/Math.pow(this.options.filesizeBase,4-o),i=a;break}}n=Math.round(10*n)/10}return"<strong>".concat(n,"</strong> ").concat(this.options.dictFileSizeUnits[i])}},{key:"_updateMaxFilesReachedClass",value:function e(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function e(t){if(t.dataTransfer){this.emit("drop",t);for(var n=[],i=0;i<t.dataTransfer.files.length;i++)n[i]=t.dataTransfer.files[i];if(n.length){var r=t.dataTransfer.items;r&&r.length&&null!=r[0].webkitGetAsEntry?this._addFilesFromItems(r):this.handleFiles(n)}this.emit("addedfiles",n)}}},{key:"paste",value:function e(t){if(null!=__guard__(null!=t?t.clipboardData:void 0,function(e){return e.items})){this.emit("paste",t);var n=t.clipboardData.items;if(n.length)return this._addFilesFromItems(n)}}},{key:"handleFiles",value:function e(t){var n,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;this.addFile(r)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_addFilesFromItems",value:function e(t){var n=this;return function(){var e,i=[],r=_createForOfIteratorHelper(t);try{for(r.s();!(e=r.n()).done;){var o,a=e.value;null!=a.webkitGetAsEntry&&(o=a.webkitGetAsEntry())?o.isFile?i.push(n.addFile(a.getAsFile())):o.isDirectory?i.push(n._addFilesFromDirectory(o,o.name)):i.push(void 0):null!=a.getAsFile&&(null==a.kind||"file"===a.kind)?i.push(n.addFile(a.getAsFile())):i.push(void 0)}}catch(s){r.e(s)}finally{r.f()}return i}()}},{key:"_addFilesFromDirectory",value:function e(t,n){var i=this,r=t.createReader(),o=function e(t){return __guardMethod__(console,"log",function(e){return e.log(t)})};return function e(){return r.readEntries(function(t){if(t.length>0){var r,o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;a.isFile?a.file(function(e){if(!i.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath="".concat(n,"/").concat(e.name),i.addFile(e)}):a.isDirectory&&i._addFilesFromDirectory(a,"".concat(n,"/").concat(a.name))}}catch(s){o.e(s)}finally{o.f()}e()}return null},o)}()}},{key:"accept",value:function e(t,i){this.options.maxFilesize&&t.size>1048576*this.options.maxFilesize?i(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):n.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(i(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,i):i(this.options.dictInvalidFileType)}},{key:"addFile",value:function e(t){var i=this;t.upload={uuid:n.uuidv4(),progress:0,total:t.size,bytesSent:0,filename:this._renameFile(t)},this.files.push(t),t.status=n.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,function(e){e?(t.accepted=!1,i._errorProcessing([t],e)):(t.accepted=!0,i.options.autoQueue&&i.enqueueFile(t)),i._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function e(t){var n,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;this.enqueueFile(r)}}catch(o){i.e(o)}finally{i.f()}return null}},{key:"enqueueFile",value:function e(t){var i=this;if(t.status===n.ADDED&&!0===t.accepted){if(t.status=n.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return i.processQueue()},0)}else throw Error("This file can't be queued because it has already been processed or was rejected.")}},{key:"_enqueueThumbnail",value:function e(t){var n=this;if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1048576*this.options.maxThumbnailFilesize)return this._thumbnailQueue.push(t),setTimeout(function(){return n._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function e(){var t=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var n=this._thumbnailQueue.shift();return this.createThumbnail(n,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(e){return t.emit("thumbnail",n,e),t._processingThumbnail=!1,t._processThumbnailQueue()})}}},{key:"removeFile",value:function e(t){if(t.status===n.UPLOADING&&this.cancelUpload(t),this.files=without(this.files,t),this.emit("removedfile",t),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function e(t){null==t&&(t=!1);var i,r=_createForOfIteratorHelper(this.files.slice());try{for(r.s();!(i=r.n()).done;){var o=i.value;(o.status!==n.UPLOADING||t)&&this.removeFile(o)}}catch(a){r.e(a)}finally{r.f()}return null}},{key:"resizeImage",value:function e(t,i,r,o,a){var s=this;return this.createThumbnail(t,i,r,o,!0,function(e,i){if(null==i)return a(t);var r=s.options.resizeMimeType;null==r&&(r=t.type);var o=i.toDataURL(r,s.options.resizeQuality);return("image/jpeg"===r||"image/jpg"===r)&&(o=ExifRestore.restore(t.dataURL,o)),a(n.dataURItoBlob(o))})}},{key:"createThumbnail",value:function e(t,n,i,r,o,a){var s=this,l=new FileReader;l.onload=function(){if(t.dataURL=l.result,"image/svg+xml"===t.type){null!=a&&a(l.result);return}s.createThumbnailFromUrl(t,n,i,r,o,a)},l.readAsDataURL(t)}},{key:"displayExistingFile",value:function e(t,n,i,r){var o=this,a=!(arguments.length>4)||void 0===arguments[4]||arguments[4];if(this.emit("addedfile",t),this.emit("complete",t),a){var s=function e(n){o.emit("thumbnail",t,n),i&&i()};t.dataURL=n,this.createThumbnailFromUrl(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.resizeMethod,this.options.fixOrientation,s,r)}else this.emit("thumbnail",t,n),i&&i()}},{key:"createThumbnailFromUrl",value:function e(t,n,i,r,o,a,s){var l=this,u=document.createElement("img");return s&&(u.crossOrigin=s),o="from-image"!=getComputedStyle(document.body).imageOrientation&&o,u.onload=function(){var e=function e(t){return t(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&o&&(e=function e(t){return EXIF.getData(u,function(){return t(EXIF.getTag(this,"Orientation"))})}),e(function(e){t.width=u.width,t.height=u.height;var o=l.options.resize.call(l,t,n,i,r),s=document.createElement("canvas"),c=s.getContext("2d");switch(s.width=o.trgWidth,s.height=o.trgHeight,e>4&&(s.width=o.trgHeight,s.height=o.trgWidth),e){case 2:c.translate(s.width,0),c.scale(-1,1);break;case 3:c.translate(s.width,s.height),c.rotate(Math.PI);break;case 4:c.translate(0,s.height),c.scale(1,-1);break;case 5:c.rotate(.5*Math.PI),c.scale(1,-1);break;case 6:c.rotate(.5*Math.PI),c.translate(0,-s.width);break;case 7:c.rotate(.5*Math.PI),c.translate(s.height,-s.width),c.scale(-1,1);break;case 8:c.rotate(-.5*Math.PI),c.translate(-s.height,0)}drawImageIOSFix(c,u,null!=o.srcX?o.srcX:0,null!=o.srcY?o.srcY:0,o.srcWidth,o.srcHeight,null!=o.trgX?o.trgX:0,null!=o.trgY?o.trgY:0,o.trgWidth,o.trgHeight);var d=s.toDataURL("image/png");if(null!=a)return a(d,s)})},null!=a&&(u.onerror=a),u.src=t.dataURL}},{key:"processQueue",value:function e(){var t=this.options.parallelUploads,n=this.getUploadingFiles().length,i=n;if(!(n>=t)){var r=this.getQueuedFiles();if(r.length>0){if(this.options.uploadMultiple)return this.processFiles(r.slice(0,t-n));for(;i<t;){if(!r.length)return;this.processFile(r.shift()),i++}}}}},{key:"processFile",value:function e(t){return this.processFiles([t])}},{key:"processFiles",value:function e(t){var i,r=_createForOfIteratorHelper(t);try{for(r.s();!(i=r.n()).done;){var o=i.value;o.processing=!0,o.status=n.UPLOADING,this.emit("processing",o)}}catch(a){r.e(a)}finally{r.f()}return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)}},{key:"_getFilesWithXhr",value:function e(t){return this.files.filter(function(e){return e.xhr===t}).map(function(e){return e})}},{key:"cancelUpload",value:function e(t){if(t.status===n.UPLOADING){var i,r=this._getFilesWithXhr(t.xhr),o=_createForOfIteratorHelper(r);try{for(o.s();!(i=o.n()).done;)i.value.status=n.CANCELED}catch(a){o.e(a)}finally{o.f()}void 0!==t.xhr&&t.xhr.abort();var s,l=_createForOfIteratorHelper(r);try{for(l.s();!(s=l.n()).done;){var u=s.value;this.emit("canceled",u)}}catch(c){l.e(c)}finally{l.f()}this.options.uploadMultiple&&this.emit("canceledmultiple",r)}else(t.status===n.ADDED||t.status===n.QUEUED)&&(t.status=n.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function e(t){if("function"==typeof t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return t.apply(this,i)}return t}},{key:"uploadFile",value:function e(t){return this.uploadFiles([t])}},{key:"uploadFiles",value:function e(t){var i=this;this._transformFiles(t,function(e){if(i.options.chunking){var r=e[0];t[0].upload.chunked=i.options.chunking&&(i.options.forceChunking||r.size>i.options.chunkSize),t[0].upload.totalChunkCount=Math.ceil(r.size/i.options.chunkSize)}if(t[0].upload.chunked){var o=t[0],a=e[0],s=0;o.upload.chunks=[];var l=function e(){for(var r=0;void 0!==o.upload.chunks[r];)r++;if(!(r>=o.upload.totalChunkCount)){s++;var l=r*i.options.chunkSize,u=Math.min(l+i.options.chunkSize,a.size),c={name:i._getParamName(0),data:a.webkitSlice?a.webkitSlice(l,u):a.slice(l,u),filename:o.upload.filename,chunkIndex:r};o.upload.chunks[r]={file:o,index:r,dataBlock:c,status:n.UPLOADING,progress:0,retries:0},i._uploadData(t,[c])}};if(o.upload.finishedChunkUpload=function(e){var r=!0;e.status=n.SUCCESS,e.dataBlock=null,e.xhr=null;for(var a=0;a<o.upload.totalChunkCount;a++){if(void 0===o.upload.chunks[a])return l();o.upload.chunks[a].status!==n.SUCCESS&&(r=!1)}r&&i.options.chunksUploaded(o,function(){i._finished(t,"",null)})},i.options.parallelChunkUploads)for(var u=0;u<o.upload.totalChunkCount;u++)l();else l()}else{for(var c=[],d=0;d<t.length;d++)c[d]={name:i._getParamName(d),data:e[d],filename:t[d].upload.filename};i._uploadData(t,c)}})}},{key:"_getChunk",value:function e(t,n){for(var i=0;i<t.upload.totalChunkCount;i++)if(void 0!==t.upload.chunks[i]&&t.upload.chunks[i].xhr===n)return t.upload.chunks[i]}},{key:"_uploadData",value:function e(t,i){var r,o=this,a=new XMLHttpRequest,s=_createForOfIteratorHelper(t);try{for(s.s();!(r=s.n()).done;)r.value.xhr=a}catch(l){s.e(l)}finally{s.f()}t[0].upload.chunked&&(t[0].upload.chunks[i[0].chunkIndex].xhr=a);var u=this.resolveOption(this.options.method,t),c=this.resolveOption(this.options.url,t);a.open(u,c,!0),a.timeout=this.resolveOption(this.options.timeout,t),a.withCredentials=!!this.options.withCredentials,a.onload=function(e){o._finishedUploading(t,a,e)},a.ontimeout=function(){o._handleUploadError(t,a,"Request timedout after ".concat(o.options.timeout/1e3," seconds"))},a.onerror=function(){o._handleUploadError(t,a)},(null!=a.upload?a.upload:a).onprogress=function(e){return o._updateFilesUploadProgress(t,a,e)};var d={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var p in this.options.headers&&n.extend(d,this.options.headers),d){var h=d[p];h&&a.setRequestHeader(p,h)}var f=new FormData;if(this.options.params){var m=this.options.params;for(var v in"function"==typeof m&&(m=m.call(this,t,a,t[0].upload.chunked?this._getChunk(t[0],a):null)),m){var g=m[v];if(Array.isArray(g))for(var y=0;y<g.length;y++)f.append(v,g[y]);else f.append(v,g)}}var $,_=_createForOfIteratorHelper(t);try{for(_.s();!($=_.n()).done;){var k=$.value;this.emit("sending",k,a,f)}}catch(F){_.e(F)}finally{_.f()}this.options.uploadMultiple&&this.emit("sendingmultiple",t,a,f),this._addFormElementData(f);for(var b=0;b<i.length;b++){var z=i[b];f.append(z.name,z.data,z.filename)}this.submitRequest(a,f,t)}},{key:"_transformFiles",value:function e(t,n){for(var i=this,r=[],o=0,a=function e(a){i.options.transformFile.call(i,t[a],function(e){r[a]=e,++o===t.length&&n(r)})},s=0;s<t.length;s++)a(s)}},{key:"_addFormElementData",value:function e(t){if("FORM"===this.element.tagName){var n,i=_createForOfIteratorHelper(this.element.querySelectorAll("input, textarea, select, button"));try{for(i.s();!(n=i.n()).done;){var r=n.value,o=r.getAttribute("name"),a=r.getAttribute("type");if(a&&(a=a.toLowerCase()),null!=o){if("SELECT"===r.tagName&&r.hasAttribute("multiple")){var s,l=_createForOfIteratorHelper(r.options);try{for(l.s();!(s=l.n()).done;){var u=s.value;u.selected&&t.append(o,u.value)}}catch(c){l.e(c)}finally{l.f()}}else(!a||"checkbox"!==a&&"radio"!==a||r.checked)&&t.append(o,r.value)}}}catch(d){i.e(d)}finally{i.f()}}}},{key:"_updateFilesUploadProgress",value:function e(t,n,i){var r;if(void 0!==i){if(r=100*i.loaded/i.total,t[0].upload.chunked){var o=t[0],a=this._getChunk(o,n);a.progress=r,a.total=i.total,a.bytesSent=i.loaded,o.upload.progress=0,o.upload.total=0,o.upload.bytesSent=0;for(var s=0;s<o.upload.totalChunkCount;s++)void 0!==o.upload.chunks[s]&&void 0!==o.upload.chunks[s].progress&&(o.upload.progress+=o.upload.chunks[s].progress,o.upload.total+=o.upload.chunks[s].total,o.upload.bytesSent+=o.upload.chunks[s].bytesSent);o.upload.progress=o.upload.progress/o.upload.totalChunkCount}else{var l,u=_createForOfIteratorHelper(t);try{for(u.s();!(l=u.n()).done;){var c=l.value;c.upload.progress=r,c.upload.total=i.total,c.upload.bytesSent=i.loaded}}catch(d){u.e(d)}finally{u.f()}}var p,h=_createForOfIteratorHelper(t);try{for(h.s();!(p=h.n()).done;){var f=p.value;this.emit("uploadprogress",f,f.upload.progress,f.upload.bytesSent)}}catch(m){h.e(m)}finally{h.f()}}else{var v=!0;r=100;var g,y=_createForOfIteratorHelper(t);try{for(y.s();!(g=y.n()).done;){var $=g.value;(100!==$.upload.progress||$.upload.bytesSent!==$.upload.total)&&(v=!1),$.upload.progress=r,$.upload.bytesSent=$.upload.total}}catch(_){y.e(_)}finally{y.f()}if(v)return;var k,F=_createForOfIteratorHelper(t);try{for(F.s();!(k=F.n()).done;){var b=k.value;this.emit("uploadprogress",b,r,b.upload.bytesSent)}}catch(z){F.e(z)}finally{F.f()}}}},{key:"_finishedUploading",value:function e(t,i,r){var o;if(t[0].status!==n.CANCELED&&4===i.readyState){if("arraybuffer"!==i.responseType&&"blob"!==i.responseType&&(o=i.responseText,i.getResponseHeader("content-type")&&~i.getResponseHeader("content-type").indexOf("application/json")))try{o=JSON.parse(o)}catch(a){r=a,o="Invalid JSON response from server."}this._updateFilesUploadProgress(t),200<=i.status&&i.status<300?t[0].upload.chunked?t[0].upload.finishedChunkUpload(this._getChunk(t[0],i)):this._finished(t,o,r):this._handleUploadError(t,i,o)}}},{key:"_handleUploadError",value:function e(t,i,r){if(t[0].status!==n.CANCELED){if(t[0].upload.chunked&&this.options.retryChunks){var o=this._getChunk(t[0],i);if(o.retries++<this.options.retryChunksLimit){this._uploadData(t,[o.dataBlock]);return}console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(t,r||this.options.dictResponseError.replace("{{statusCode}}",i.status),i)}}},{key:"submitRequest",value:function e(t,n,i){t.send(n)}},{key:"_finished",value:function e(t,i,r){var o,a=_createForOfIteratorHelper(t);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.status=n.SUCCESS,this.emit("success",s,i,r),this.emit("complete",s)}}catch(l){a.e(l)}finally{a.f()}if(this.options.uploadMultiple&&(this.emit("successmultiple",t,i,r),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function e(t,i,r){var o,a=_createForOfIteratorHelper(t);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.status=n.ERROR,this.emit("error",s,i,r),this.emit("complete",s)}}catch(l){a.e(l)}finally{a.f()}if(this.options.uploadMultiple&&(this.emit("errormultiple",t,i,r),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}}]),n}(Emitter);Dropzone.initClass(),Dropzone.version="5.7.2",Dropzone.options={},Dropzone.optionsForElement=function(e){return e.getAttribute("id")?Dropzone.options[camelize(e.getAttribute("id"))]:void 0},Dropzone.instances=[],Dropzone.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),(null!=e?e.dropzone:void 0)==null)throw Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},Dropzone.autoDiscover=!0,Dropzone.discover=function(){var e;if(document.querySelectorAll)e=document.querySelectorAll(".dropzone");else{e=[];var t=function t(n){return function(){var t,i=[],r=_createForOfIteratorHelper(n);try{for(r.s();!(t=r.n()).done;){var o=t.value;/(^| )dropzone($| )/.test(o.className)?i.push(e.push(o)):i.push(void 0)}}catch(a){r.e(a)}finally{r.f()}return i}()};t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))}return function(){var t,n=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;!1!==Dropzone.optionsForElement(r)?n.push(new Dropzone(r)):n.push(void 0)}}catch(o){i.e(o)}finally{i.f()}return n}()},Dropzone.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],Dropzone.isBrowserSupported=function(){var e=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if("classList"in document.createElement("a")){var t,n=_createForOfIteratorHelper(Dropzone.blacklistedBrowsers);try{for(n.s();!(t=n.n()).done;)if(t.value.test(navigator.userAgent)){e=!1;continue}}catch(i){n.e(i)}finally{n.f()}}else e=!1}else e=!1;return e},Dropzone.dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),r=new Uint8Array(i),o=0,a=t.length,s=0<=a;s?o<=a:o>=a;s?o++:o--)r[o]=t.charCodeAt(o);return new Blob([i],{type:n})};var without=function e(t,n){return t.filter(function(e){return e!==n}).map(function(e){return e})},camelize=function e(t){return t.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})};Dropzone.createElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]},Dropzone.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},Dropzone.getElement=function(e,t){var n;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector or a plain HTML element."));return n},Dropzone.getElements=function(e,t){var n,i;if(e instanceof Array){i=[];try{var r,o=_createForOfIteratorHelper(e);try{for(o.s();!(r=o.n()).done;)n=r.value,i.push(this.getElement(n,t))}catch(a){o.e(a)}finally{o.f()}}catch(s){i=null}}else if("string"==typeof e){i=[];var l,u=_createForOfIteratorHelper(document.querySelectorAll(e));try{for(u.s();!(l=u.n()).done;)n=l.value,i.push(n)}catch(c){u.e(c)}finally{u.f()}}else null!=e.nodeType&&(i=[e]);if(null==i||!i.length)throw Error("Invalid `".concat(t,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."));return i},Dropzone.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},Dropzone.isValidFile=function(e,t){if(!t)return!0;t=t.split(",");var n,i=e.type,r=i.replace(/\/.*$/,""),o=_createForOfIteratorHelper(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a=a.trim(),"."===a.charAt(0)){if(-1!==e.name.toLowerCase().indexOf(a.toLowerCase(),e.name.length-a.length))return!0}else if(/\/\*$/.test(a)){if(r===a.replace(/\/.*$/,""))return!0}else if(i===a)return!0}}catch(s){o.e(s)}finally{o.f()}return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new Dropzone(this,e)})}),"undefined"!=typeof module&&null!==module?module.exports=Dropzone:window.Dropzone=Dropzone,Dropzone.ADDED="added",Dropzone.QUEUED="queued",Dropzone.ACCEPTED=Dropzone.QUEUED,Dropzone.UPLOADING="uploading",Dropzone.PROCESSING=Dropzone.UPLOADING,Dropzone.CANCELED="canceled",Dropzone.ERROR="error",Dropzone.SUCCESS="success";var detectVerticalSquash=function e(t){t.naturalWidth;var n=t.naturalHeight,i=document.createElement("canvas");i.width=1,i.height=n;var r=i.getContext("2d");r.drawImage(t,0,0);for(var o=r.getImageData(1,0,1,n).data,a=0,s=n,l=n;l>a;)0===o[(l-1)*4+3]?s=l:a=l,l=s+a>>1;var u=l/n;return 0===u?1:u},drawImageIOSFix=function e(t,n,i,r,o,a,s,l,u,c){var d=detectVerticalSquash(n);return t.drawImage(n,i,r,o,a,s,l,u,c/d)},ExifRestore=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"initClass",value:function e(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function e(t){for(var n="",i=void 0,r=void 0,o="",a=void 0,s=void 0,l=void 0,u="",c=0;i=t[c++],r=t[c++],o=t[c++],a=i>>2,s=(3&i)<<4|r>>4,l=(15&r)<<2|o>>6,u=63&o,isNaN(r)?l=u=64:isNaN(o)&&(u=64),n=n+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(l)+this.KEY_STR.charAt(u),i=r=o="",a=s=l=u="",c<t.length;);return n}},{key:"restore",value:function e(t,n){if(!t.match("data:image/jpeg;base64,"))return n;var i=this.decode64(t.replace("data:image/jpeg;base64,","")),r=this.slice2Segments(i),o=this.exifManipulation(n,r);return"data:image/jpeg;base64,".concat(this.encode64(o))}},{key:"exifManipulation",value:function e(t,n){var i=this.getExifArray(n),r=this.insertExif(t,i);return new Uint8Array(r)}},{key:"getExifArray",value:function e(t){for(var n=void 0,i=0;i<t.length;){if(255===(n=t[i])[0]&225===n[1])return n;i++}return[]}},{key:"insertExif",value:function e(t,n){var i=t.replace("data:image/jpeg;base64,",""),r=this.decode64(i),o=r.indexOf(255,3),a=r.slice(0,o),s=r.slice(o),l=a;return(l=l.concat(n)).concat(s)}},{key:"slice2Segments",value:function e(t){for(var n,i=0,r=[];!(255===t[i]&218===t[i+1]);){if(255===t[i]&216===t[i+1])i+=2;else{n=256*t[i+2]+t[i+3];var o=i+n+2,a=t.slice(i,o);r.push(a),i=o}if(i>t.length)break}return r}},{key:"decode64",value:function e(t){var n=void 0,i=void 0,r="",o=void 0,a=void 0,s=void 0,l="",u=0,c=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(t)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");o=this.KEY_STR.indexOf(t.charAt(u++)),a=this.KEY_STR.indexOf(t.charAt(u++)),s=this.KEY_STR.indexOf(t.charAt(u++)),l=this.KEY_STR.indexOf(t.charAt(u++)),n=o<<2|a>>4,i=(15&a)<<4|s>>2,r=(3&s)<<6|l,c.push(n),64!==s&&c.push(i),64!==l&&c.push(r),n=i=r="",o=a=s=l="",u<t.length;);return c}}]),e}();ExifRestore.initClass();var contentLoaded=function e(t,n){var i=!1,r=!0,o=t.document,a=o.documentElement,s=o.addEventListener?"addEventListener":"attachEvent",l=o.addEventListener?"removeEventListener":"detachEvent",u=o.addEventListener?"":"on",c=function e(r){if(("readystatechange"!==r.type||"complete"===o.readyState)&&(("load"===r.type?t:o)[l](u+r.type,e,!1),!i&&(i=!0)))return n.call(t,r.type||r)};if("complete"!==o.readyState){if(o.createEventObject&&a.doScroll){try{r=!t.frameElement}catch(d){}r&&function e(){try{a.doScroll("left")}catch(t){setTimeout(e,50);return}return c("poll")}()}return o[s](u+"DOMContentLoaded",c,!1),o[s](u+"readystatechange",c,!1),t[s](u+"load",c,!1)}};function __guard__(e,t){return null!=e?t(e):void 0}function __guardMethod__(e,t,n){return null!=e&&"function"==typeof e[t]?n(e,t):void 0}Dropzone._autoDiscoverFunction=function(){if(Dropzone.autoDiscover)return Dropzone.discover()},contentLoaded(window,Dropzone._autoDiscoverFunction);