## Test utils

### í…ŒìŠ¤íŠ¸ ëª©í‘œ
- ë”ë¯¸ë°ì´í„°ë¡œ ìœ ì € 3ë°±ê°œ, ì•¨ë²” 3ì²œê°œ, ì‚¬ì§„ 3ì²œë§Œê°œë¥¼ ìƒì„±í•œë‹¤.
- ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ì„ í™•ì¸í•˜ê³  íŒŒë“œ ìˆ˜, ë¦¬ì†ŒìŠ¤ ì‚¬ì´ì¦ˆë¥¼ ê²°ì •í•œë‹¤.
- Container, Heap memory ì‚¬ìš©ë¥ ì´ ìµœëŒ€ 80%ë¥¼ ë„˜ì§€ ì•Šë„ë¡ í•œë‹¤.

### ëª©í‘œ ìˆ˜ìš©ì¹˜ (vUser : 300, Duration : 10m)
1. My info : ì„œë¡œ ë‹¤ë¥¸ ìœ ì €ê°€ ë¡œê·¸ì¸, ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ
2. Upload image : ì„œë¡œ ë‹¤ë¥¸ ìœ ì €ê°€ ì´ë¯¸ì§€ ì—…ë¡œë“œ Url ìš”ì²­
3. Upload image : í•œ ìœ ì €ê°€ ë™ì‹œì— 100ê°œì˜ ì´ë¯¸ì§€ ì—…ë¡œë“œ Url ìš”ì²­
4. Commit image : ì„œë¡œ ë‹¤ë¥¸ ìœ ì €ê°€ ì´ë¯¸ì§€ ì—…ë¡œë“œ Commit
5. Commit image : í•œ ìœ ì €ê°€ ë™ì‹œì— 100ê°œì˜ ì´ë¯¸ì§€ ì—…ë¡œë“œ Commit
6. Get pictures : ì„œë¡œ ë‹¤ë¥¸ ìœ ì €ê°€ ë¬´ì‘ìœ„ í˜ì´ì§€ Picture ì¡°íšŒ ë°˜ë³µ

### ë©”ëª¨ë¦¬ ì¡°ì •
- ì‹¤í–‰ì— í•„ìš”í•œ ìµœì†Œ Container ë©”ëª¨ë¦¬ : 242Mi
- í…ŒìŠ¤íŠ¸ í†µê³¼ì— í•„ìš”í•œ ìµœì†Œ Container ë©”ëª¨ë¦¬ : 450Mi

#### 1 pod, 500Mi
![image](https://github.com/ecsimsw/pic-up/assets/46060746/eab4c571-f672-42b8-8301-00aacc70fee6)
- í…ŒìŠ¤íŠ¸ëŠ” í†µê³¼í•˜ë‚˜ Heap ìµœëŒ€ ì‚¬ìš©ëŸ‰ : 93% -> Java OOM ìœ„í—˜

#### 3 pod, 400Mi
![image](https://github.com/ecsimsw/pic-up/assets/46060746/9ec16999-1cb8-4e7d-a940-83ddaee5f9ca)
- Heap ìµœëŒ€ ì‚¬ìš©ëŸ‰ì€ 83%, ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì€ ë§Œì¡±
- ì»¨í…Œì´ë„ˆê°€ ì‚¬ìš©í•˜ëŠ” ë©”ëª¨ë¦¬ëŸ‰ì´ í‰ê·  340Mi, limit ì— ìµœëŒ€ 88% ì‚¬ìš© -> Pod OOM killed ìœ„í—˜

#### 2 pod, 500Mi
![image](https://github.com/ecsimsw/pic-up/assets/46060746/3700b519-f348-495f-b7ff-829ceb043fbf)
- Heap ìµœëŒ€ ì‚¬ìš©ëŸ‰ 85%, ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ë§Œì¡±
- ì»¨í…Œì´ë„ˆê°€ ì‚¬ìš©í•˜ëŠ” ë©”ëª¨ë¦¬ëŸ‰ì´ í‰ê·  340Mi, limit ì— ìµœëŒ€ 67% ì‚¬ìš©

![image](https://github.com/ecsimsw/pic-up/assets/46060746/5906001e-972f-4a6d-9be8-5f2d4db99096)

- ìš”ì²­ì´ ëª°ë¦¬ëŠ” ìƒí™©ì„ ê°€ì •í•˜ì—¬, 2ë¶„ë™ì•ˆ 500ëª…ì˜ ê°€ìƒ ìœ ì €, ì•½ 9ë§Œê°œì˜ ìš”ì²­ì„ ì „ë‹¬

![image](https://github.com/ecsimsw/pic-up/assets/46060746/3f9b9292-b5b9-43b9-a3c1-c50672fa2cdd)

- ê²°ì •!

### ì¸í”„ë¼
- vCpu 2, vMem 2GB -> vCpu 2, vMem 4GB
- cpu ì‚¬ìš©ëŸ‰ì´ ë„ë„í•´ì„œ ì½”ì–´ë¥¼ 1ë¡œ ì¤„ì´ë ¤ê³  í–ˆëŠ”ë°, master node cpu ìµœì†Œ ì‚¬ì–‘ì´ cpu 2 ì´ìƒ.
- ì–µì§€ë¡œ ì—ëŸ¬ ë¬´ì‹œí•˜ê³  kubeadm init í•´ë„ coreDns cpu requestê°€ 2ì´ì–´ì„œ ë²ˆê±°ë¡œì›€
- cpu ëŠ” ê·¸ëŒ€ë¡œ 2 ì½”ì–´ë¥¼ ë‘ëŠ” ê²ƒìœ¼ë¡œ ğŸ˜…
- ì•„ë˜ëŠ” ê²°ì •í•œ Picup Pod (mem 500Mi)ë¥¼ 2ê°œ ë„ì› ì„ ë•Œì˜ htop, ë©”ëª¨ë¦¬ 42% ì‚¬ìš©

![image](https://github.com/ecsimsw/pic-up/assets/46060746/266f2998-32f9-4002-9cf5-656d444aaa82)
